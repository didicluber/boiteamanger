{% extends 'base.html.twig' %}

{% block body %}
    <body class="loaded">
    <!-- Start Page Loading -->
    <div id="loader-wrapper">
        <div id="loader"></div>
        <div class="loader-section section-left"></div>
        <div class="loader-section section-right"></div>
    </div>
    <!-- End Page Loading -->

    <!-- START MAIN -->
    <div id="main">
        <!-- START WRAPPER -->
        <div class="wrapper">

            <!-- START LEFT SIDEBAR NAV-->

            <!-- END LEFT SIDEBAR NAV-->

            <!-- //////////////////////////////////////////////////////////////////////////// -->

            <!-- START CONTENT -->
            <section id="content">

                <!--start container-->
                <div class="container">

                    <div id="profile-page" class="section">
                        <!-- profile-page-header -->
                        <div id="profile-page-header" class="card">
                            <div class="card-image waves-effect waves-block waves-light">
                                <img class="activator" src="images/user-profile-bg.jpg" alt="user background">
                            </div>
                            <div class="col-lg-2">

                            </div>

                            <div class="card-content">
                                <div class="row">
                                    <figure class="card-profile-image col s2" style="width: 200px; height: 200px;">
                                        <img src="{{ asset('uploads/images/' ~ user.imageUser) }}" alt="profile image" class="circle z-depth-2 responsive-img activator"style="width:200px; height: 200px;">
                                    </figure>
                                    <div class="col s2 offset-s1">
                                        <h4 class="card-title grey-text text-darken-4">{{ user.username }}</h4>
                                        <p class="medium-small grey-text">-</p>
                                    </div>
                                    <div class="col s2 center-align">
                                        <h4 class="card-title grey-text text-darken-4">{{ user.plats | length }} {% if user.plats | length == 1 %}plat{% else %}plats{% endif %}</h4>
                                        <p class="medium-small grey-text">-</p>
                                    </div>
                                    <div class="col s2 center-align">
                                        <h4 class="card-title grey-text text-darken-4">{{ user.noteMoyenne | slice(0,3) }}/5</h4>
                                        <p class="medium-small grey-text">-</p>
                                    </div>
                                    {% if app.user == user %}
                                    <div class="col s1 right-align">
                                        <br>
                                        <a class="btn-floating activator waves-effect waves-light darken-2 right" href="{{ path('fos_user_profile_edit') }}">
                                            <i class="mdi-action-perm-identity glyphicon-pencil"></i>
                                        </a>

                                    </div>
                                    {% endif %}
                                </div>
                            </div>
                            <div class="card-reveal" style="display: none; transform: translateY(0px);">
                                <p>
                                    <span class="card-title grey-text text-darken-4">{{ user.username }} <i class="mdi-navigation-close right"></i></span>
                                    <span><i class="mdi-action-perm-identity cyan-text text-darken-2"></i> Project Manager</span>
                                </p>

                                <p>I am a very simple card. I am good at containing small bits of information. I am convenient because I require little markup to use effectively.</p>

                                <p><i class="mdi-action-perm-phone-msg cyan-text text-darken-2"></i> +1 (612) 222 8989</p>
                                <p><i class="mdi-communication-email cyan-text text-darken-2"></i> mail@domain.com</p>
                                <p><i class="mdi-social-cake cyan-text text-darken-2"></i> 18th June 1990</p>
                                <p><i class="mdi-device-airplanemode-on cyan-text text-darken-2"></i> BAR - AUS</p>
                            </div>
                        </div>
                        <!--/ profile-page-header -->

                        <!-- profile-page-content -->
                        <div id="profile-page-content" class="row">
                            <!-- profile-page-sidebar-->
                            <div id="profile-page-sidebar" class="col s12 m4">

                                <!-- Profile About  -->
                                <div class="card amber darken-2">
                                    <div class="card-content white-text center-align">
                                        <p class="card-title"><i class="mdi-social-group-add"></i>{{ user.noteMoyenne | slice(0,3) }}</p>
                                        <p>/5</p>
                                    </div>
                                </div>
                                <!-- Profile About  -->

                                <!-- Profile About  -->
                                <div class="card light-blue">
                                    <div class="card-content white-text">
                                        <span class="card-title">About Me!</span>
                                        <p>I am a very simple card. I am good at containing small bits of information. I am convenient because I require little markup to use effectively.</p>
                                    </div>
                                </div>
                                <!-- Profile About  -->

                                <!-- Profile About Details  -->
                                <ul id="profile-page-about-details" class="collection z-depth-1">
                                {% if app.user == user %}

                                    <li class="collection-item">
                                        <div class="row">
                                            <div class="col s12 grey-text text-darken-4 center-align"><a class="waves-effect waves-light darken-2 center" href="{{ path('fos_user_change_password') }}">Changer de mot de passe</a></div>

                                        </div>
                                    </li>
                                    {% endif %}
                                    <li class="collection-item">
                                        <div class="row">
                                            <div class="col s5 grey-text darken-1"><i class="mdi-action-wallet-travel"></i> Nom</div>
                                            <div class="col s7 grey-text text-darken-4 right-align">{{ user.prenom }} {{ user.nom }}</div>
                                        </div>
                                    </li>
                                    {% if app.user == user %}
                                    <li class="collection-item">
                                        <div class="row">
                                            <div class="col s5 grey-text darken-1"><i class="mdi-communication-email"></i>Email</div>
                                            <div class="col s7 grey-text text-darken-4 right-align">{{ user.email }}></div>

                                        </div>
                                    </li>
                                    <li class="collection-item">
                                        <div class="row">
                                            <div class="col s5 grey-text darken-1"><i class="mdi-social-cake"></i>Age</div>
                                            <div class="col s7 grey-text text-darken-4 right-align">{{ user.dnaiss | age }}</div>
                                        </div>
                                    </li>
                                    <li class="collection-item">
                                        <div class="row">
                                            <div class="col s5 grey-text darken-1"><i class="mdi-social-cake"></i>Date de naissance</div>
                                            <div class="col s7 grey-text text-darken-4 right-align">{{ user.dnaiss| date('d/m/Y') }}</div>
                                        </div>
                                    </li>


                                    <li class="collection-item">
                                        <div class="row">
                                            <div class="col s5 grey-text darken-1"><i class="mdi-social-cake"></i>Telephone</div>
                                            <div class="col s7 grey-text text-darken-4 right-align">{{ user.tel }}</div>
                                        </div>
                                    </li>
                                {% endif %}
                                </ul>
                                <!--/ Profile About Details  -->



                                <!-- Profile feed  -->




                            </div>
                            <!-- profile-page-sidebar-->

                            <!-- profile-page-wall -->
                            <div id="profile-page-wall" class="col s12 m8">
                                <!-- profile-page-wall-share -->
                                <div id="profile-page-wall-share" class="row">
                                    <div class="col s12">
                                        <ul class="tabs tab-profile z-depth-1 light-blue" style="width: 100%;">
                                            <li class="tab col s5"><a class="white-text waves-effect waves-light active" href="#profile-commentaires"><i class="mdi-editor-border-color"></i>Commentaires</a>
                                            </li>
                                            <li class="tab col s3"><a class="white-text waves-effect waves-light" href="#profile-plats"><i class="mdi-image-camera-alt"></i> Plats</a>
                                            </li>
                                            <div class="indicator" style="right: 810px; left: 0px;"></div></ul>

                                        <!-- AddPhotos -->
                                        <div id="AddPhotos" class="tab-content col s12  grey lighten-4" style="display: none;">

                                        </div>
                                        <!-- CreateAlbum -->
                                        <div id="CreateAlbum" class="tab-content col s12  grey lighten-4" style="display: none;">


                                        </div>
                                    </div>
                                </div>
                                <!--/ profile-page-wall-share -->

                                <!-- profile-page-wall-posts -->
                                <div id="profile-commentaires" class="row">
                                    <div class="col s12">
                                        <!-- medium -->
                                        {% for com in user.ownCommentaires %}
                                        <div id="profile-page-wall-post" class="card">
                                            <div class="card-profile-title">
                                                <div class="row">
                                                    <div class="col s1">
                                                        <img src="{{ asset('uploads/images/' ~ com.auteur.imageUser) }}" alt="" class="circle responsive-img valign profile-post-uer-image">
                                                    </div>
                                                    <div class="col s10">
                                                        <p class="grey-text text-darken-4 margin">{{ com.auteur }}</p>
                                                        <span class="grey-text text-darken-1 ultra-small">(Ajouter date et heure à la commancde ?)Shared publicly  -  26 Jun 2015</span>
                                                    </div>
                                                    <div class="col s1 right-align">
                                                        <i class="mdi-navigation-expand-more"></i>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col s12">
                                                        <span class="card-title text-success col s9"><a style="margin-left: 5px;">{{ com.plat.nomPlat }}</a></span>

                                                        <div class="vz-review-rating-container col s3 right-align">
                                                            {% if com.note < 1.5 %}
                                                                <span class="vz-review-icon star active"></span>
                                                            {% elseif com.note <= 2.5 %}
                                                                <span class="vz-review-icon star active"></span>
                                                                <span class="vz-review-icon star active"></span>
                                                            {% elseif com.note < 3.5 %}
                                                                <span class="vz-review-icon star active"></span>
                                                                <span class="vz-review-icon star active"></span>
                                                                <span class="vz-review-icon star active"></span>
                                                            {% elseif com.note <4.5 %}
                                                                <span class="vz-review-icon star active"></span>
                                                                <span class="vz-review-icon star active"></span>
                                                                <span class="vz-review-icon star active"></span>
                                                                <span class="vz-review-icon star active"></span>
                                                            {% elseif com.note < 5 %}
                                                                <span class="vz-review-icon star active"></span>
                                                                <span class="vz-review-icon star active"></span>
                                                                <span class="vz-review-icon star active"></span>
                                                                <span class="vz-review-icon star active"></span>
                                                                <span class="vz-review-icon star active"></span>
                                                            {% endif %}
                                                        </div>

                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card-content">
                                                <p>{{ com.contenu }}</p>
                                            </div>
                                    </div>
                                        {% endfor %}
                                </div>
                                <!--/ profile-page-wall-posts -->

                            </div>
                            <!--/ profile-page-wall -->

                                <div id="profile-plats" class="row" style="display: none;">
                                    <div class="col s12">
                                        <!-- medium -->
                                        {% for plat in user.platsPoste %}
                                            <div id="profile-page-wall-post" class="card">
                                                <div class="card-profile-title">
                                                    <div class="row">
                                                        <div class="col s1">
                                                            <img src="{{ asset('uploads/images/' ~ plat.imagePlat) }}" alt="" class="circle responsive-img valign profile-post-uer-image">
                                                        </div>
                                                        <div class="col s10">
                                                            <p class="grey-text text-darken-4 margin">{{ plat.userPoste }}</p>
                                                            <span class="grey-text text-darken-1 ultra-small">Publié le  -  {{ plat.creeA |date("F jS \\a\\t g:ia") }}</span>
                                                        </div>
                                                        <div class="col s1 right-align">
                                                            <i class="mdi-navigation-expand-more"></i>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col s12">
                                                            <span class="card-title text-success col s9"><a style="margin-left: 5px;">{{ plat.nomPlat }}</a></span>

                                                    {# <div class="vz-review-rating-container col s3 right-align">
                                                                {% if plat.commentaires.note < 1.5 %}
                                                                    <span class="vz-review-icon star active"></span>
                                                                {% elseif plat.commentaires.note <= 2.5 %}
                                                                    <span class="vz-review-icon star active"></span>
                                                                    <span class="vz-review-icon star active"></span>
                                                                {% elseif plat.commentaires.note < 3.5 %}
                                                                    <span class="vz-review-icon star active"></span>
                                                                    <span class="vz-review-icon star active"></span>
                                                                    <span class="vz-review-icon star active"></span>
                                                                {% elseif plat.commentaires.note <4.5 %}
                                                                    <span class="vz-review-icon star active"></span>
                                                                    <span class="vz-review-icon star active"></span>
                                                                    <span class="vz-review-icon star active"></span>
                                                                    <span class="vz-review-icon star active"></span>
                                                                {% elseif plat.commentaires.note < 5 %}
                                                                    <span class="vz-review-icon star active"></span>
                                                                    <span class="vz-review-icon star active"></span>
                                                                    <span class="vz-review-icon star active"></span>
                                                                    <span class="vz-review-icon star active"></span>
                                                                    <span class="vz-review-icon star active"></span>
                                                                {% endif %}
                                                            </div>#}

                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="card-content">
                                                    <p>{{ plat.descriptionPlat }}</p>
                                                </div>
                                            </div>
                                        {% endfor %}
                                    </div>
                                </div>

                        </div>
                    </div>
                </div>
                </div>
            </section></div>
        <!--end container-->

        <!-- END CONTENT -->

        <!-- //////////////////////////////////////////////////////////////////////////// -->

    </div>
    <!-- END WRAPPER -->


    <!-- END MAIN -->



    <!-- //////////////////////////////////////////////////////////////////////////// -->

{% endblock %}